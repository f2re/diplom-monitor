# Plan.md - Проект "Weeks Until Diploma"

## 1. ТЕХНИЧЕСКОЕ ЗАДАНИЕ

### 1.1 Описание проекта
Веб-приложение для мотивации студентов, визуализирующее количество недель до защиты диплома через интерактивную сетку недель.

### 1.2 Цель проекта
Создать визуальный инструмент, который помогает студентам осознать ограниченность времени и мотивирует регулярно работать над дипломом.

### 1.3 Целевая аудитория
- Студенты последних курсов вузов
- Возраст: 20-25 лет
- Преимущественное использование: мобильные устройства

### 1.4 Функциональные требования

#### 1.4.1 Визуализация времени
- Отображение сетки квадратов, где каждый квадрат = 1 неделя
- Период по умолчанию: январь 2026 - май 2027 (настраиваемый)
- Расположение: по центру экрана
- Компактное размещение для обзора всего периода

#### 1.4.2 Регистрация и профиль
- Простая регистрация (email/имя или социальные сети)
- Выбор персонального эмодзи при регистрации
- Возможность изменить эмодзи в настройках

#### 1.4.3 Отметки прогресса
- Клик по квадрату недели открывает форму отметки
- Студент отмечает выполненную работу
- При отметке в квадрате появляется выбранный эмодзи
- Возможность добавить краткое описание выполненного (опционально)

#### 1.4.4 Специальные периоды
- Администратор/студент может отметить недели как:
  - Отпуск (другой цвет + пометка)
  - Командировка (другой цвет + пометка)
  - Другие недоступные периоды
- Эти квадраты остаются пустыми, но визуально отличаются

#### 1.4.5 Настройки
- Выбор даты начала отсчёта
- Выбор даты дедлайна (защита диплома)
- Управление специальными периодами
- Изменение эмодзи

### 1.5 Нефункциональные требования

#### 1.5.1 Дизайн
- **Стиль**: Современный минимализм
- **Цветовая палитра**: Ограниченная, нейтральная с акцентами
- **Типографика**: Читаемая, минимум 16px для основного текста
- **Пространство**: Generous white space для уменьшения визуального шума
- **Визуальный акцент**: Подчеркивание малого количества оставшегося времени

#### 1.5.2 Адаптивность
- **Mobile-first подход**
- **Breakpoints**:
  - Mobile: 320px - 768px
  - Tablet: 768px - 1024px
  - Desktop: 1024px+
- Single-column layout на мобильных
- Responsive grid для квадратов недель

#### 1.5.3 Производительность
- Время загрузки < 2 секунд
- Оптимизированные изображения и скрипты
- Lazy loading для не критичных элементов

#### 1.5.4 Доступность
- Touch-friendly элементы (минимум 44x44px)
- Контрастность по стандартам WCAG
- Alt-тексты для эмодзи
- Keyboard navigation

---

## 2. ТЕХНОЛОГИЧЕСКИЙ СТЕК

### 2.1 Frontend
**Рекомендуемый стек**:
- **Framework**: React.js 18+ или Next.js 14+
  - Преимущества: компонентный подход, SSR для производительности
- **Styling**: 
  - Tailwind CSS (для быстрого mobile-first дизайна)
  - или CSS Modules
- **State Management**: 
  - Zustand (легковесный) или Context API
- **UI компоненты**:
  - Radix UI (headless components для доступности)
  - или Shadcn UI

### 2.2 Backend
**Рекомендуемый стек**:
- **Runtime**: Node.js + Express.js
  - или Next.js API Routes (full-stack подход)
- **База данных**: 
  - PostgreSQL (реляционная, надёжная)
  - или MongoDB (если нужна гибкость схемы)
- **ORM**: 
  - Prisma (для TypeScript)
  - или Mongoose (для MongoDB)
- **Аутентификация**: 
  - NextAuth.js / Auth.js
  - или Supabase Auth

### 2.3 Hosting & DevOps
- **Frontend Hosting**: Vercel или Netlify
- **Backend Hosting**: Railway, Render или Supabase
- **База данных**: Supabase, PlanetScale или Neon
- **CDN**: Cloudflare или встроенный в хостинг

### 2.4 Дополнительные инструменты
- **Версионирование**: Git + GitHub/GitLab
- **CI/CD**: GitHub Actions или встроенный в Vercel
- **Мониторинг**: Vercel Analytics или Plausible
- **Дизайн**: Figma для прототипирования

---

## 3. СТРУКТУРА БАЗЫ ДАННЫХ

### 3.1 Таблица Users
\`\`\`
users
├── id (UUID, primary key)
├── email (string, unique)
├── name (string)
├── emoji (string)
├── start_date (date)
├── deadline_date (date)
├── created_at (timestamp)
└── updated_at (timestamp)
\`\`\`

### 3.2 Таблица WeekProgress
\`\`\`
week_progress
├── id (UUID, primary key)
├── user_id (UUID, foreign key -> users)
├── week_number (integer)
├── year (integer)
├── week_start_date (date)
├── is_completed (boolean)
├── note (text, optional)
├── completed_at (timestamp)
└── created_at (timestamp)
\`\`\`

### 3.3 Таблица SpecialPeriods
\`\`\`
special_periods
├── id (UUID, primary key)
├── user_id (UUID, foreign key -> users)
├── week_number (integer)
├── year (integer)
├── week_start_date (date)
├── period_type (enum: 'vacation', 'business_trip', 'other')
├── label (string)
└── created_at (timestamp)
\`\`\`

---

## 4. ДИЗАЙН И UX

### 4.1 Цветовая схема (рекомендуемая)
\`\`\`
Основные цвета:
- Background: #FAFAFA (светло-серый)
- Surface: #FFFFFF (белый)
- Text Primary: #1A1A1A (почти чёрный)
- Text Secondary: #666666 (серый)

Статусные цвета:
- Week Empty: #E5E5E5 (светло-серый)
- Week Completed: #4CAF50 (зелёный, с эмодзи)
- Week Current: #FFC107 (янтарный, обводка)
- Week Vacation: #BBDEFB (светло-голубой)
- Week Business Trip: #FFE0B2 (светло-оранжевый)
- Week Overdue: #FFEBEE (светло-красный)
\`\`\`

### 4.2 Типографика
\`\`\`
Рекомендуемые шрифты:
- Primary: Inter или SF Pro Display
- Secondary: System fonts для производительности

Размеры:
- H1 (Title): 32px / 2rem (mobile: 24px)
- H2 (Section): 24px / 1.5rem (mobile: 20px)
- Body: 16px / 1rem
- Small: 14px / 0.875rem
\`\`\`

### 4.3 Компоненты сетки недель
\`\`\`
Размеры квадратов:
- Desktop: 48x48px
- Tablet: 40x40px
- Mobile: 32x32px (или auto-fit в grid)

Gap между квадратами:
- Desktop: 8px
- Mobile: 4px

Эмодзи в квадратах:
- Размер: 60% от размера квадрата
- Центрирование: flexbox / grid place-items
\`\`\`

### 4.4 Ключевые экраны

#### Экран 1: Главная страница (Dashboard)
- Сетка недель по центру
- Легенда статусов (вверху или сбоку)
- Индикатор текущей недели
- Счётчик оставшихся недель (крупно)
- Кнопка настроек (иконка шестерёнки)

#### Экран 2: Регистрация
- Минимальная форма:
  - Email
  - Имя
  - Выбор эмодзи (emoji picker)
  - Дата начала
  - Дата дедлайна
- Кнопка "Начать"

#### Экран 3: Модальное окно отметки недели
- Заголовок: "Неделя [номер], [даты]"
- Вопрос: "Вы работали над дипломом на этой неделе?"
- Текстовое поле (опционально): "Что сделано?"
- Кнопки: "Отметить" / "Отмена"

#### Экран 4: Настройки
- Изменить эмодзи
- Изменить даты
- Отметить специальные периоды
- Экспорт данных
- Удалить аккаунт

---

## 5. ЭТАПЫ РАЗРАБОТКИ

### ФАЗА 1: Подготовка и дизайн (1 неделя)

#### Шаг 1.1: Анализ и уточнение требований
- [ ] Финализировать функциональные требования
- [ ] Определить MVP features
- [ ] Составить user stories

#### Шаг 1.2: Дизайн и прототипирование
- [ ] Создать wireframes в Figma
- [ ] Разработать UI-kit (цвета, типографика, компоненты)
- [ ] Создать mockups ключевых экранов (mobile + desktop)
- [ ] Протестировать прототип с 2-3 пользователями
- [ ] Внести правки

#### Шаг 1.3: Настройка инфраструктуры
- [ ] Создать репозиторий на GitHub
- [ ] Настроить структуру проекта
- [ ] Выбрать и настроить хостинг
- [ ] Настроить базу данных

---

### ФАЗА 2: Backend разработка (1.5 недели)

#### Шаг 2.1: Настройка базы данных
- [ ] Создать схему базы данных
- [ ] Настроить миграции (Prisma/Mongoose)
- [ ] Создать seed data для тестирования

#### Шаг 2.2: API разработка
- [ ] Endpoint: POST /api/auth/register
- [ ] Endpoint: POST /api/auth/login
- [ ] Endpoint: GET /api/user/profile
- [ ] Endpoint: PUT /api/user/profile (обновление)
- [ ] Endpoint: GET /api/weeks (получить все недели пользователя)
- [ ] Endpoint: POST /api/weeks/:weekId/complete (отметить неделю)
- [ ] Endpoint: DELETE /api/weeks/:weekId/complete (снять отметку)
- [ ] Endpoint: POST /api/special-periods (добавить спец период)
- [ ] Endpoint: DELETE /api/special-periods/:id

#### Шаг 2.3: Аутентификация
- [ ] Настроить NextAuth.js / Auth.js
- [ ] Реализовать JWT tokens
- [ ] Защитить API endpoints
- [ ] Реализовать middleware для проверки auth

#### Шаг 2.4: Тестирование API
- [ ] Unit tests для ключевых функций
- [ ] Integration tests для API endpoints
- [ ] Тестирование с Postman/Insomnia

---

### ФАЗА 3: Frontend разработка (2 недели)

#### Шаг 3.1: Базовая настройка
- [ ] Настроить Next.js проект
- [ ] Установить Tailwind CSS
- [ ] Настроить роутинг
- [ ] Создать layout компоненты

#### Шаг 3.2: Компоненты UI
- [ ] Компонент WeekSquare (квадрат недели)
- [ ] Компонент WeekGrid (сетка недель)
- [ ] Компонент EmojiPicker
- [ ] Компонент Modal (для отметок)
- [ ] Компонент Legend (легенда статусов)
- [ ] Компонент ProgressCounter (счётчик недель)

#### Шаг 3.3: Страницы
- [ ] Страница: / (landing для неавторизованных)
- [ ] Страница: /register
- [ ] Страница: /login
- [ ] Страница: /dashboard (главная с сеткой)
- [ ] Страница: /settings

#### Шаг 3.4: Логика приложения
- [ ] Интеграция с API
- [ ] State management (user, weeks, специальные периоды)
- [ ] Расчёт недель между датами
- [ ] Определение текущей недели
- [ ] Логика отображения статусов недель

#### Шаг 3.5: Адаптивность
- [ ] Mobile-first CSS
- [ ] Responsive grid для недель
- [ ] Тестирование на разных размерах экрана
- [ ] Touch-friendly interactions

#### Шаг 3.6: Анимации и микроинтеракции
- [ ] Hover эффекты на квадратах (desktop)
- [ ] Smooth transitions
- [ ] Loading states
- [ ] Success animations при отметке недели

---

### ФАЗА 4: Интеграция и тестирование (1 неделя)

#### Шаг 4.1: Интеграция Frontend + Backend
- [ ] Подключить все API endpoints
- [ ] Настроить CORS
- [ ] Обработка ошибок
- [ ] Loading и error states

#### Шаг 4.2: End-to-end тестирование
- [ ] Тестирование регистрации
- [ ] Тестирование отметки недель
- [ ] Тестирование специальных периодов
- [ ] Тестирование настроек
- [ ] Тестирование на разных устройствах

#### Шаг 4.3: Оптимизация производительности
- [ ] Lighthouse audit
- [ ] Оптимизация изображений
- [ ] Code splitting
- [ ] Lazy loading компонентов
- [ ] Минификация CSS/JS

#### Шаг 4.4: Доступность
- [ ] Проверка keyboard navigation
- [ ] Проверка screen reader compatibility
- [ ] Контрастность цветов (WCAG AA)
- [ ] ARIA атрибуты

---

### ФАЗА 5: Деплой и запуск (0.5 недели)

#### Шаг 5.1: Подготовка к продакшену
- [ ] Environment variables
- [ ] Настройка production БД
- [ ] Security audit
- [ ] Privacy policy и Terms of Service

#### Шаг 5.2: Деплой
- [ ] Деплой frontend на Vercel
- [ ] Деплой backend (если отдельный)
- [ ] Настройка custom domain (опционально)
- [ ] SSL сертификаты

#### Шаг 5.3: Мониторинг
- [ ] Настроить error tracking (Sentry)
- [ ] Настроить analytics
- [ ] Мониторинг производительности

#### Шаг 5.4: Документация
- [ ] README.md с инструкциями
- [ ] Документация API
- [ ] User guide для студентов

---

### ФАЗА 6: Пост-запуск и итерации (ongoing)

#### Шаг 6.1: Сбор обратной связи
- [ ] Создать канал для feedback
- [ ] Провести опрос первых пользователей
- [ ] Анализ метрик использования

#### Шаг 6.2: Доработки MVP
- [ ] Исправление багов
- [ ] Улучшение UX на основе feedback
- [ ] Оптимизация производительности

#### Шаг 6.3: Дополнительные фичи (после MVP)
- [ ] Уведомления (email/push) о неотмеченных неделях
- [ ] Статистика (процент выполнения, streak)
- [ ] Экспорт прогресса в PDF
- [ ] Shared view (поделиться прогрессом с научным руководителем)
- [ ] Групповой режим (для группы студентов)
- [ ] Темная тема
- [ ] PWA функционал

---

## 6. ВРЕМЕННЫЕ РАМКИ

### Оценка времени разработки:
- **Фаза 1**: 1 неделя (дизайн и подготовка)
- **Фаза 2**: 1.5 недели (backend)
- **Фаза 3**: 2 недели (frontend)
- **Фаза 4**: 1 неделя (тестирование)
- **Фаза 5**: 0.5 недели (деплой)

**ИТОГО MVP**: ~6 недель (для 1 разработчика full-time)

### Ускоренная разработка (для команды):
- Frontend Developer: 2-3 недели
- Backend Developer: 1.5-2 недели
- UI/UX Designer: 1 неделя
- **ИТОГО**: 3-4 недели при параллельной работе

---

## 7. РИСКИ И МИТИГАЦИЯ

### Риск 1: Сложность адаптации сетки на мобильных
**Митигация**: 
- Использовать CSS Grid с auto-fit
- Тестировать на реальных устройствах с первых этапов
- Предусмотреть вертикальный scroll для длинных периодов

### Риск 2: Низкая вовлечённость пользователей
**Митигация**:
- Gamification элементы (streak, процент выполнения)
- Push/email напоминания о неотмеченных неделях
- Визуальное "давление" через красные неотмеченные недели

### Риск 3: Производительность при большом количестве недель
**Митигация**:
- Виртуализация списка (react-window)
- Пагинация или lazy loading
- Оптимизация рендеринга

### Риск 4: Безопасность данных пользователей
**Митигация**:
- HTTPS only
- Bcrypt для паролей
- JWT с коротким lifetime
- Rate limiting на API
- GDPR compliance

---

## 8. МЕТРИКИ УСПЕХА

### Технические метрики:
- [ ] Время загрузки < 2 секунд
- [ ] Lighthouse Performance Score > 90
- [ ] Mobile-friendly test: Pass
- [ ] 0 critical security vulnerabilities

### Пользовательские метрики:
- [ ] Регистрация завершается < 60 секунд
- [ ] Retention rate > 60% после 1 недели
- [ ] Средняя частота отметок > 1 раз в неделю
- [ ] User satisfaction score > 4/5

---

## 9. ДОПОЛНИТЕЛЬНЫЕ РЕКОМЕНДАЦИИ

### 9.1 Best Practices
- Следовать mobile-first подходу на всех этапах
- Использовать semantic HTML
- Минимизировать зависимости (packages)
- Регулярные code reviews
- Версионирование API
- Comprehensive error handling

### 9.2 Accessibility
- Keyboard navigation для всех интерактивных элементов
- ARIA labels для screen readers
- Достаточная контрастность (минимум 4.5:1)
- Focus indicators
- Alt text для всех эмодзи

### 9.3 Оптимизация для мобильных
- Touch targets минимум 44x44px
- Избегать hover-only interactions
- Использовать native mobile gestures где возможно
- Оптимизировать для медленных соединений
- Offline-first подход (Service Workers)

---

## 10. ЗАКЛЮЧЕНИЕ

Этот проект представляет собой компактное, но эффективное решение для мотивации студентов. Ключевой фокус на:
1. **Визуальном воздействии** - сетка недель наглядно показывает ограниченность времени
2. **Простоте использования** - минимум действий для отметки прогресса
3. **Мобильной доступности** - студенты могут отмечаться в любое время
4. **Минималистичном дизайне** - ничего не отвлекает от главной цели

Следуя этому плану, можно создать мотивирующий инструмент, который реально поможет студентам довести дипломную работу до конца.

---

**Версия**: 1.0  
**Дата создания**: 10 февраля 2026  
**Следующий review**: после завершения Фазы 1
